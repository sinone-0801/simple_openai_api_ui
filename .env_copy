# ====================
# OpenAI API 設定
# ====================
OPENAI_API_KEY=sk-proj-XXXXXXXXXXXXXXXXXXXXX

# デフォルトモデル（オプション）
ORCHESTRATOR_MODEL=o4-mini

#### 無料枠 (2025/11/15) #######################
#
##  1 million tokens / day
#       gpt-5.1, gpt-5.1-codex, gpt-5, gpt-5-codex, gpt-5-chat-latest, gpt-4.1, gpt-4o, o1, o3
#
##  10 million tokens / day
#       gpt-5.1-codex-mini, gpt-5-mini, gpt-5-nano, gpt-4.1-mini, gpt-4.1-nano, gpt-4o-mini, o1-mini, o3-mini, o4-mini, codex-mini-latest.
#
################################################

# ====================
# サーバー設定
# ====================
PORT=3000
JWT_SECRET=your_jwt_secret_key_here
JWT_EXPIRES_IN=12h

# ====================
# Bot 設定（Discord）
# ====================
# Discord Bot用
DISCORD_BOT_TOKEN=your-discord-bot-token-here
BOT_USER_ID=discord-bot

# ====================
# Bot 設定（LINE）
# ====================
# LINE Messaging API用
LINE_CHANNEL_ACCESS_TOKEN=your-line-channel-access-token-here
LINE_CHANNEL_SECRET=your-line-channel-secret-here
LINE_BOT_PORT=3001

# ====================
# API設定（Bot使用時）
# ====================
# バックエンドAPIのベースURL
API_BASE_URL=http://localhost:3000

# ====================
# Stripe 決済設定
# ====================

# Stripeシークレットキー（ダッシュボードから取得）
# テスト環境: sk_test_... で始まるキー
# 本番環境: sk_live_... で始まるキー
STRIPE_SECRET_KEY=sk_test_your_secret_key_here

# Stripe公開鍵（フロントエンドで使用）
# テスト環境: pk_test_... で始まるキー
# 本番環境: pk_live_... で始まるキー
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key_here

# Webhook署名シークレット（Stripeダッシュボードから取得）
# テスト環境: stripe listen コマンドで表示される whsec_... で始まるキー
# 本番環境: Webhookエンドポイント登録時に発行される whsec_... で始まるキー
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret_here

# ====================
# クレジット購入設定
# ====================

# クレジット購入レート（1円あたりのクレジット数）
# 例: 10 の場合、100円で1000クレジット購入可能
# 計算例: 
#   100円 × 10 = 1,000 クレジット
#   1,000円 × 10 = 10,000 クレジット
CREDIT_PURCHASE_RATE=10

# 通貨（ISO 4217通貨コード）
# jpy: 日本円
# usd: 米ドル
# eur: ユーロ
CURRENCY=jpy

# 最小購入金額（円）
MIN_PURCHASE_AMOUNT=100

# 最大購入金額（円）
MAX_PURCHASE_AMOUNT=100000

# ====================
# アプリケーション設定
# ====================

# ベースURL（本番環境では必須）
# 開発環境: http://localhost:3000
# 本番環境: https://yourdomain.com
BASE_URL=http://localhost:3000

# ====================
# Stripe設定の取得方法
# ====================

# 1. Stripeアカウントの作成
#    https://dashboard.stripe.com/register にアクセスしてアカウントを作成

# 2. APIキーの取得
#    - ダッシュボード > 開発者 > APIキー
#    - 「テスト用の公開可能キー」と「テスト用のシークレットキー」をコピー

# 3. Webhookの設定
#    a) 開発環境（ローカルテスト）:
#       - Stripe CLIをインストール: https://stripe.com/docs/stripe-cli
#       - ターミナルで実行: stripe listen --forward-to localhost:3000/api/payment/webhook
#       - 表示される whsec_... をコピーして STRIPE_WEBHOOK_SECRET に設定
#    
#    b) 本番環境:
#       - ダッシュボード > 開発者 > Webhook
#       - 「エンドポイントを追加」をクリック
#       - エンドポイントURL: https://yourdomain.com/api/payment/webhook
#       - イベント選択: checkout.session.completed を選択
#       - 作成後、表示される署名シークレット（whsec_...）をコピー

# ====================
# クレジットレートの設定例
# ====================

# 例1: 1円=10クレジット（推奨）
# CREDIT_PURCHASE_RATE=10
# → 100円で1,000クレジット
# → 1,000円で10,000クレジット

# 例2: 1円=100クレジット（大量クレジット）
# CREDIT_PURCHASE_RATE=100
# → 100円で10,000クレジット
# → 1,000円で100,000クレジット

# 例3: 1円=1クレジット（シンプル）
# CREDIT_PURCHASE_RATE=1
# → 100円で100クレジット
# → 1,000円で1,000クレジット

# ====================
# テスト用カード番号
# ====================

# Stripeのテスト環境で使用できるカード番号:
# 成功: 4242 4242 4242 4242
# 有効期限: 任意の未来の日付（例: 12/34）
# CVC: 任意の3桁の数字（例: 123）
# 郵便番号: 任意（例: 12345）

# その他のテストカード:
# 認証が必要: 4000 0025 0000 3155
# 決済失敗: 4000 0000 0000 0002
# 不正使用: 4100 0000 0000 0019

# 詳細: https://stripe.com/docs/testing